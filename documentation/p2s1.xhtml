<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>com.io7m.minisite 0.0.9 Documentation: 2.1. Maven Plugin Usage</title><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="kstructural-layout.css"/><link rel="stylesheet" type="text/css" href="kstructural-colour.css"/><link rel="stylesheet" type="text/css" href="documentation.css"/></head><body><div class="st300_body"><div class="st300_navbar st300_navbar_top"><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_title_cell">2. Usage</td><td class="st300_navbar_up_title_cell">2. Usage</td><td class="st300_navbar_next_title_cell"/></tr><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2.xhtml#st300_p2" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"/></tr></table><hr class="st300_hr"/></div><div class="st300_section_container"><a id="usage.maven"/><div class="st300_section_title_number"><a id="st300_p2s1" href="#st300_p2s1" title="Section 2.1: Maven Plugin Usage">2.1</a></div><div class="st300_section_title">Maven Plugin Usage</div><ul class="st300_contents st300_section_contents_outer st300_section_contents"><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s1.xhtml#st300_p2s1ss1" title="Link to subsection 2.1.1: Design">2.1.1. Design</a></li><li class="st300_contents_item st300_contents_item1 st300_contents_item_subsection"><a href="p2s1.xhtml#st300_p2s1ss2" title="Link to subsection 2.1.2: Example">2.1.2. Example</a></li></ul><div class="st300_subsection_container"><a id="usage.maven.design"/><div class="st300_subsection_title_number"><a id="st300_p2s1ss1" href="#st300_p2s1ss1" title="Subsection 2.1.1: Design">2.1.1</a></div><div class="st300_subsection_title">Design</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss1c1" href="#st300_p2s1ss1c1" title="Paragraph 2.1.1.1">1</a></div><div class="st300_paragraph">The plugin is designed to produce an extremely simple, static, single-page, XHTML 1.0 Strict site with no Javascript. The plugin assumes the existence of a <span class="st300_term constant">64x64</span> PNG file at <span class="st300_term parameter">/icon.png</span>.</div></div></div><div class="st300_subsection_container"><a id="usage.maven.example"/><div class="st300_subsection_title_number"><a id="st300_p2s1ss2" href="#st300_p2s1ss2" title="Subsection 2.1.2: Example">2.1.2</a></div><div class="st300_subsection_title">Example</div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c1" href="#st300_p2s1ss2c1" title="Paragraph 2.1.2.1">1</a></div><div class="st300_paragraph">The following is a simple example of how to use the plugin:</div></div><div class="st300_formal_item"><a id="usage.maven.example.xml"/><div class="st300_formal_item_title"><a id="st300_p2s1ss2c2" href="#st300_p2s1ss2c2" title="Formal item 2.1.2.2: Example">2.1.2.2 Example</a></div><div class="st300_formal_item_content"><pre class="st300_verbatim">&lt;build&gt;
  &lt;plugins&gt;

    &lt;!-- Disable the existing maven-site-plugin --&gt;
    &lt;plugin&gt;
      &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;
      &lt;version&gt;3.6&lt;/version&gt;
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;id&gt;default-site&lt;/id&gt;
          &lt;phase&gt;none&lt;/phase&gt;
          &lt;goals&gt;
            &lt;goal&gt;site&lt;/goal&gt;
          &lt;/goals&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
    &lt;/plugin&gt;

    &lt;plugin&gt;
      &lt;groupId&gt;com.io7m.minisite&lt;/groupId&gt;
      &lt;artifactId&gt;com.io7m.minisite.maven_plugin&lt;/artifactId&gt;
      &lt;version&gt;0.0.6&lt;/version&gt;
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;id&gt;minisite&lt;/id&gt;
          &lt;phase&gt;site&lt;/phase&gt;
          &lt;goals&gt;
            &lt;goal&gt;generateSite&lt;/goal&gt;
          &lt;/goals&gt;
          &lt;configuration&gt;
            &lt;overviewFile&gt;src/site/resources/overview.xml&lt;/overviewFile&gt;
            &lt;featuresFile&gt;src/site/resources/features.xml&lt;/featuresFile&gt;
            &lt;documentationFile&gt;src/site/resources/documentation.xml&lt;/documentationFile&gt;
            &lt;changelogFile&gt;README-CHANGES.xml&lt;/changelogFile&gt;
            &lt;changelogFeedEmail&gt;contact@io7m.com&lt;/changelogFeedEmail&gt;
            &lt;outputDirectory&gt;/home/someone/git/com.github/io7m/minisite/com.io7m.minisite.documentation/target/minisite&lt;/outputDirectory&gt;
            &lt;resourcesDirectory&gt;${project.base.directory}/src/site/resources&lt;/resourcesDirectory&gt;
          &lt;/configuration&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
      &lt;inherited&gt;false&lt;/inherited&gt;
    &lt;/plugin&gt;

  &lt;/plugins&gt;
&lt;/build&gt;

</pre></div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c3" href="#st300_p2s1ss2c3" title="Paragraph 2.1.2.3">3</a></div><div class="st300_paragraph">By default, the <a class="st300_link_external" href="https://maven.apache.org/plugins/maven-site-plugin/">maven-site-plugin</a> is bound to the Maven <span class="st300_term expression">site</span> lifecycle phase, so it's generally preferred to disable the plugin by explicitly binding it to the <span class="st300_term expression">none</span> phase. The <span class="st300_term package">minisite</span> plugin is intended for use with multi-module builds and is designed to run at most once for the parent module, in contrast to the once-per-module execution model of the <span class="st300_term package">maven-site-plugin</span>. It's therefore recommended to set <span class="st300_term parameter">inherited</span> to <span class="st300_term constant">false</span> as shown so that the plugin won't execute for any child modules.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c4" href="#st300_p2s1ss2c4" title="Paragraph 2.1.2.4">4</a></div><div class="st300_paragraph">The <span class="st300_term parameter">overviewFile</span> parameter specifies an XHTML file that will be inserted into the <span class="st300_term term">overview</span> section of the generated site.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c5" href="#st300_p2s1ss2c5" title="Paragraph 2.1.2.5">5</a></div><div class="st300_paragraph">The <span class="st300_term parameter">featuresFile</span> parameter specifies an XHTML file that will be inserted into the <span class="st300_term term">features</span> section of the generated site.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c6" href="#st300_p2s1ss2c6" title="Paragraph 2.1.2.6">6</a></div><div class="st300_paragraph">The <span class="st300_term parameter">changelogFile</span> parameter specifies an XML changelog in <a class="st300_link_external" href="http://io7m.github.io/changelog">changelog</a> format that will be converted into XHTML for the generated site. If no file is specified, no <span class="st300_term term">changes</span> section will be generated.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c7" href="#st300_p2s1ss2c7" title="Paragraph 2.1.2.7">7</a></div><div class="st300_paragraph">The <span class="st300_term parameter">changelogFeedEmail</span> parameter the email address that will be used when generating an RSS feed for the changelog.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c8" href="#st300_p2s1ss2c8" title="Paragraph 2.1.2.8">8</a></div><div class="st300_paragraph">The <span class="st300_term parameter">outputDirectory</span> parameter specifies the directory to which site files will be generated, and resources copied. This parameter is optional and defaults to <span class="st300_term parameter">{project.build.directory}/minisite</span>.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c9" href="#st300_p2s1ss2c9" title="Paragraph 2.1.2.9">9</a></div><div class="st300_paragraph">The <span class="st300_term parameter">resourcesDirectory</span> parameter specifies the directory from which site resources will be copied copied. This parameter is optional and defaults to <span class="st300_term parameter">{project.base.directory}/src/site/resources</span>.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p2s1ss2c10" href="#st300_p2s1ss2c10" title="Paragraph 2.1.2.10">10</a></div><div class="st300_paragraph">The <span class="st300_term parameter">documentation</span> parameter specifies documentation. It takes a list of <span class="st300_term expression">DocumentationItem</span> values as parameters. Each <span class="st300_term expression">DocumentationItem</span> specifies a name and a list of <span class="st300_term expression">DocumentationFormat</span> values. Each <span class="st300_term expression">DocumentationFormat</span> value specifies a format name and a path. The usage example above specifies a single documentation item that has three formats: Single-page XHTML placed at <span class="st300_term file">/documentation/index.xhtml</span>, multi-page XHTML placed at <span class="st300_term file">/documentation/index-m.xhtml</span>, and plain text placed at <span class="st300_term file">/documentation/main.txt</span>.</div></div></div></div><div class="st300_navbar st300_navbar_bottom"><hr class="st300_hr"/><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p2.xhtml#st300_p2" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p2.xhtml#st300_p2" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"/></tr><tr><td class="st300_navbar_prev_title_cell">2. Usage</td><td class="st300_navbar_up_title_cell">2. Usage</td><td class="st300_navbar_next_title_cell"/></tr></table></div></div></body></html>
